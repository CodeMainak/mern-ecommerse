{"version":3,"sources":["api/ProductsAPI.js","api/UserAPI.js","api/CategoriesAPI.js","GlobalState.js","components/headers/icon/menu.svg","components/headers/icon/close.svg","components/headers/icon/cart.svg","components/headers/Header.js","components/mainpages/utils/productItem/BtnRender.js","components/mainpages/utils/productItem/ProductItem.js","components/mainpages/utils/loading/Loading.js","components/mainpages/products/Filters.js","components/mainpages/products/LoadMore.js","components/mainpages/products/Products.js","components/mainpages/auth/Login.js","components/mainpages/auth/Register.js","components/mainpages/cart/PaypalButton.js","components/mainpages/cart/Cart.js","components/mainpages/utils/not_Found/NotFound.js","components/mainpages/detailProduct/DetailProduct.js","components/mainpages/categories/Categories.js","components/mainpages/createProduct/CreateProduct.js","components/mainpages/Pages.js","App.js","index.js"],"names":["ProductsAPI","useState","products","setProdcuts","callback","setCallback","category","setCategory","sort","setSort","search","setSearch","page","setPage","result","setResult","useEffect","getProducts","a","axios","get","res","data","console","log","UserAPI","token","isLogged","setIsLogged","isAdmin","setIsAdmin","cart","setCart","getUser","headers","Authorization","role","alert","response","addCart","product","every","item","_id","quatity","patch","CategoriesAPI","categories","setCategories","getCategories","GlobalState","createContext","DataProvider","children","setToken","localStorage","getItem","refreshToken","accesstoken","setTimeout","state","productsAPI","userAPI","categoriesAPI","Provider","value","Header","useContext","menu","setMenu","logoutUser","removeItem","window","location","href","styleMenu","left","className","onClick","src","Menu","alt","width","to","style","Close","length","Cart","BtnRender","deleteProduct","id","images","public_id","ProductItem","handleCheck","type","checked","onChange","url","title","price","description","Loading","Filters","name","e","target","map","placeholder","toLocaleLowerCase","LoadMore","Products","setProducts","loading","setLoading","isCheck","setIsCheck","forEach","destroyImg","post","deleteImg","delete","Login","email","password","user","setUser","onChangeInput","loginSubmit","preventDefault","setItem","msg","onSubmit","required","autoComplete","Register","registerSubmit","PaypalButton","env","client","sandbox","production","currency","total","onError","err","onSuccess","payment","onCancel","size","color","shape","label","tagline","React","Component","setTotal","addToCart","reduce","prev","getTotal","textAlign","fontSize","content","confirm","index","splice","NotFound","DetailProduct","params","useParams","detailProduct","setDetailProduct","product_id","sold","Categories","onEdit","setOnEdit","setID","createCategory","put","editCategory","deleteCategory","htmlFor","initialState","CreateProduct","setProduct","setImages","history","useHistory","param","handleUpload","file","files","formData","FormData","append","handleDestroy","handleChangeInput","styleUpload","display","handleSubmit","push","disabled","rows","Pages","path","exact","component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e93aee68.chunk.js","sourcesContent":["import {useState,useEffect} from 'react'\r\nimport axios from \"axios\"\r\nfunction ProductsAPI() {\r\n    const [products,setProdcuts]=useState([])\r\n    const [callback,setCallback]=useState(false)\r\n    const [category,setCategory]=useState('')\r\n    const [sort,setSort]=useState('')\r\n    const [search,setSearch]=useState('')\r\n    const [page,setPage]=useState(1)\r\n    const [result,setResult]=useState(0)\r\n    useEffect(()=>{\r\n        const getProducts=async()=>{\r\n            const res=await axios.get(`/api/products?limit=${page*9}&${category}&${sort}&title[regex]=${search}`)\r\n            setProdcuts(res.data.products);\r\n            setResult(res.data.result)\r\n            console.log(res)\r\n        }\r\n        getProducts()\r\n    },[callback,category,sort,search,page])\r\n\r\n    return {\r\n        products:[products,setProdcuts],\r\n        callback:[callback,setCallback],\r\n        category:[category,setCategory],\r\n        sort: [sort,setSort],\r\n        search:[search,setSearch],\r\n        page: [page,setPage],\r\n        result:[result,setResult]\r\n    }\r\n}\r\n\r\nexport default ProductsAPI\r\n","import {useState,useEffect}from 'react'\r\nimport axios from \"axios\"\r\nfunction UserAPI(token) {\r\n    const [isLogged,setIsLogged]=useState(false)\r\n    const [isAdmin,setIsAdmin]=useState(false)\r\n    const [cart,setCart]=useState([])\r\n    useEffect(()=>{\r\n        if(token){\r\n            const getUser=async ()=>{\r\n                try {\r\n                    const res=await axios.get(\"/user/infor\",{\r\n                        headers: {Authorization: token}\r\n                    })\r\n                    setIsLogged(true)\r\n                    res.data.role===1 ?setIsAdmin(true):setIsAdmin(false)\r\n                    setCart(res.data.cart)\r\n                } catch (err) {\r\n                    alert(err.response.data)\r\n                }\r\n            }\r\n            getUser()\r\n        }\r\n    },[token])\r\n    const addCart=async(product)=>{\r\n        if(!isLogged) return alert(\"Please login to continue buying.\")\r\n        const check=cart.every(item=>{\r\n            return item._id!==product._id\r\n        })\r\n        if(check){\r\n            setCart([...cart,{...product,quatity:1}])\r\n\r\n            await axios.patch(\"/user/addcart\",{cart:[...cart,{...product,quatity:1}]},{\r\n                headers:{ Authorization:  token}\r\n            })\r\n        }else{\r\n            alert(\"This product has already been added to cart.\")\r\n        }\r\n    }\r\n\r\n\r\n    return {\r\n        isLogged:[isLogged,setIsLogged],\r\n        isAdmin:[isAdmin,setIsAdmin],\r\n        addCart:addCart,\r\n        cart:[cart,setCart]\r\n    }\r\n}\r\n\r\nexport default UserAPI\r\n","import {useState,useEffect} from \"react\"\r\nimport axios from \"axios\"\r\nfunction CategoriesAPI(){\r\n    const [categories,setCategories]=useState([])\r\n    const [callback,setCallback]=useState(false)\r\n    useEffect(()=>{\r\n        const getCategories=async ()=>{\r\n            const res=await axios.get(\"/api/category\") \r\n            setCategories(res.data);\r\n        }\r\n        getCategories()\r\n    },[callback])\r\n    return{\r\n        categories:[categories,setCategories],\r\n        callback:[callback,setCallback]\r\n    }\r\n}\r\nexport default CategoriesAPI","import React,{ useState,createContext,useEffect } from \"react\"\r\nimport axios from \"axios\"\r\nimport ProductsAPI from \"./api/ProductsAPI\"\r\nimport UserAPI from \"./api/UserAPI\"\r\nimport CategoriesAPI from \"./api/CategoriesAPI\"\r\n\r\nexport const GlobalState=createContext();\r\n\r\nexport const DataProvider=({children})=>{\r\n\r\n    const [token,setToken]= useState(false)\r\n\r\n   \r\n\r\n    useEffect(() => {\r\n        const firstLogin=localStorage.getItem(\"firstLogin\")\r\n        if(firstLogin){\r\n            const refreshToken=async ()=>{\r\n                const res=await axios.get(\"/user/refresh_token\")\r\n                setToken(res.data.accesstoken)\r\n                setTimeout(()=>{\r\n                    refreshToken()\r\n                },10 * 60 * 1000)\r\n            }\r\n            refreshToken();\r\n        }\r\n       \r\n    }, [])\r\n\r\n    const state={\r\n        token:[token,setToken],\r\n        productsAPI:ProductsAPI(),\r\n        userAPI:UserAPI(token),\r\n        categoriesAPI:CategoriesAPI()\r\n    }\r\n    return (\r\n        <GlobalState.Provider value={state}>\r\n            {children}\r\n        </GlobalState.Provider>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/menu.e8db7520.svg\";","export default __webpack_public_path__ + \"static/media/close.ea7c95d7.svg\";","export default __webpack_public_path__ + \"static/media/cart.d146d6c3.svg\";","import React,{useContext,useState} from 'react'\r\nimport {GlobalState} from \"../../GlobalState\"\r\nimport Menu from \"./icon/menu.svg\"\r\nimport Close from \"./icon/close.svg\"\r\nimport Cart from \"./icon/cart.svg\"\r\nimport { Link } from 'react-router-dom'\r\nimport axios from \"axios\"\r\n\r\nfunction Header() {\r\n    const state=useContext(GlobalState)\r\n    const [isLogged]=state.userAPI.isLogged\r\n    const [isAdmin]=state.userAPI.isAdmin\r\n    const [cart]=state.userAPI.cart\r\n    const [menu,setMenu]=useState(false)\r\n    const logoutUser=async()=>{\r\n        await axios.get('/user/logout');\r\n        localStorage.removeItem(\"firstLogin\")\r\n        window.location.href=\"/\"\r\n    }\r\n\r\n    const adminRouter=()=>{\r\n        return (\r\n            <>\r\n                <li><Link to=\"/create_product\">Create Product</Link></li>\r\n                <li><Link to=\"/category\">Categories</Link></li>\r\n            </>\r\n        )\r\n    }\r\n    const loggedRouter=()=>{\r\n        return (\r\n            <>\r\n                <li><Link to=\"/history\">History</Link></li>\r\n                <li><Link to=\"/\" onClick={logoutUser}>Logout</Link></li>\r\n            </>\r\n        )\r\n    }\r\n    const toggleMenu=()=>{\r\n        setMenu(!menu)\r\n    }\r\n    const styleMenu={\r\n        left:menu?0:\"-100%\"\r\n    }\r\n    console.log(state);\r\n    return (\r\n       <header>\r\n           <div className=\"menu\" onClick={()=>setMenu(!menu)}>\r\n                <img src={Menu} alt=\"\" width=\"30\"/>\r\n           </div>\r\n           <div className=\"logo\">\r\n                <h1>\r\n                    <Link to=\"\">{isAdmin?'Admin':'Mcky Shop'} </Link>\r\n                </h1>\r\n           </div>\r\n            <ul style={styleMenu}>\r\n                <li><Link to=\"/\">{isAdmin?'Products':'Shop'} </Link></li>\r\n                {isAdmin && adminRouter()}\r\n                {\r\n                    isLogged? loggedRouter():<li><Link to=\"/login\">Login ✶ Register </Link></li>\r\n                }\r\n                \r\n                <li onClick={()=>setMenu(!menu)}>\r\n                    <img src={Close} alt=\"\" width=\"30\" className=\"menu\"/>\r\n                </li>\r\n            </ul>\r\n            {\r\n                isAdmin?'':\r\n                <div className=\"cart-icon\">\r\n                <span>{cart.length}</span>\r\n                <Link to=\"/cart\">\r\n                <img src={Cart} alt=\"\" width=\"30\"/>\r\n                </Link>\r\n            </div>\r\n            }\r\n           \r\n       </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n\r\n","import React,{useContext} from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport {GlobalState} from \"../../../../GlobalState\"\r\nfunction BtnRender({product,deleteProduct}) {\r\n    const state=useContext(GlobalState)\r\n    const [isAdmin]=state.userAPI.isAdmin\r\n    const addCart=state.userAPI.addCart\r\n    return (\r\n        <div className=\"row_btn\">\r\n            {\r\n                isAdmin?\r\n                <>\r\n                     <Link id=\"btn_buy\" to=\"#!\" onClick={()=>deleteProduct(product._id,product.images.public_id)}>\r\n                        Delete\r\n                    </Link>\r\n                    <Link id=\"btn_view\" to={`/edit_product/${product._id}`}>\r\n                        Edit\r\n                    </Link>\r\n                </>:\r\n                <>\r\n                     <Link id=\"btn_buy\" to=\"#!\" onClick={()=>addCart(product)}>\r\n                        Buy\r\n                    </Link>\r\n                    <Link id=\"btn_view\" to={`/detail/${product._id}`}>\r\n                        View\r\n                    </Link>\r\n                </>\r\n            }    \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BtnRender\r\n","import React from 'react'\r\nimport BtnRender from './BtnRender'\r\n\r\n\r\nfunction ProductItem({product,isAdmin,deleteProduct,handleCheck}) {\r\n\r\n    return (\r\n        <div className=\"product_card\">\r\n            {\r\n                isAdmin && <input type=\"checkbox\" checked={product.checked}  \r\n                onChange={()=>handleCheck(product._id)}\r\n                />\r\n            }\r\n            <img src={product.images.url} alt=\"\"/>\r\n            <div className=\"product_box\">\r\n                <h2 title={product.title}>{product.title}</h2>\r\n                <span>${product.price}</span>\r\n                <p>{product.description}</p>\r\n            </div>\r\n            <BtnRender product={product} deleteProduct={deleteProduct}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductItem\r\n","import React from 'react'\r\nimport \"./loading.css\"\r\nfunction Loading() {\r\n    return (\r\n        <div className=\"load-page\">\r\n            <div className=\"loader\">\r\n                <div>\r\n                    <div>\r\n                        <div>\r\n                            <div>\r\n                                <div>\r\n                                    <div>\r\n                                        <div>\r\n                                            <div>\r\n                                                <div>\r\n                                                    <div></div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading\r\n","import React ,{useContext}from 'react'\r\nimport { GlobalState } from \"./../../../GlobalState\"\r\nfunction Filters() {\r\n    const state=useContext(GlobalState)\r\n    const [categories]=state.categoriesAPI.categories\r\n    const [category,setCategory]=state.productsAPI.category\r\n    const [sort,setSort]=state.productsAPI.sort\r\n    const [search,setSearch]=state.productsAPI.search\r\n    const handleCategory=e=>{\r\n        setCategory(e.target.value)\r\n        setSearch('')\r\n    }\r\n    return (\r\n        <div className=\"filter_menu\">\r\n            <div className=\"row\">\r\n                <span>Filters:</span>\r\n                <select name=\"category\" value={category} onChange={handleCategory}>\r\n                    <option value=\"\">All Products</option>\r\n                    {\r\n                        categories.map(category=>(\r\n                            <option value={\"category=\" + category._id} key={category._id}>\r\n                                {category.name}\r\n                            </option>\r\n                        ))\r\n                    }\r\n                </select>\r\n            </div>\r\n            <input type=\"text\" value={search} placeholder=\"Enter your search!\" onChange={e=>setSearch(e.target.value.toLocaleLowerCase())}/>\r\n            <div className=\"row sort\">\r\n                <span>Sort By:</span>\r\n                <select  value={sort} onChange={e=>setSort(e.target.value)}>\r\n                    <option value=\"\">Newest</option>\r\n                    <option value=\"sort-oldest\">Oldest</option>\r\n                    <option value=\"sort=-sold\">Best Sales</option>\r\n                    <option value=\"sort=-price\">Price: Hight-Low</option>\r\n                    <option value=\"sort=price\">Price: Low-Height</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filters\r\n","import React,{useContext} from 'react'\r\nimport {GlobalState} from \"../../../GlobalState\"\r\n\r\nfunction LoadMore() {\r\n    const state=useContext(GlobalState)\r\n    const [page,setPage]=state.productsAPI.page\r\n    const [result]=state.productsAPI.result\r\n    return (\r\n        <div className=\"load_more\">\r\n            {\r\n                result < page*9 ? \"\"\r\n                :<button onClick={()=>setPage(page+1)}>Load more</button>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoadMore\r\n","import React,{useContext, useState} from 'react'\r\nimport axios from \"axios\"\r\nimport {GlobalState} from \"../../../GlobalState\"\r\nimport ProductItem from '../utils/productItem/ProductItem'\r\nimport Loading from \"../utils/loading/Loading\"\r\nimport Filters from \"./Filters\"\r\nimport LoadMore from \"./LoadMore\"\r\n\r\nfunction Products() {\r\n    const state=useContext(GlobalState)\r\n    const [products,setProducts]=state.productsAPI.products\r\n    const [isAdmin]=state.userAPI.isAdmin\r\n    const [token]=state.token\r\n    const [callback,setCallback]=state.productsAPI.callback\r\n    const [loading,setLoading]=useState(false)\r\n    const [isCheck,setIsCheck]=useState(false)\r\n    const handleCheck=(id)=>{\r\n        console.log(id);\r\n        products.forEach(product=>{\r\n            if(product._id===id) product.checked=!product.checked\r\n        })\r\n        setProducts([...products])\r\n    }\r\n    const deleteProduct=async(id,public_id)=>{\r\n        console.log(id,public_id)\r\n        try {\r\n            setLoading(true)\r\n            const destroyImg=axios.post('/api/destroy',{public_id},{\r\n                headers:{ Authorization:token }\r\n            })\r\n            const deleteImg=axios.delete(`/api/products/${id}`,{\r\n                headers:{ Authorization:token }\r\n            })\r\n            await destroyImg\r\n            await  deleteImg\r\n            setCallback(!callback)\r\n            setLoading(false)\r\n        } catch (err) {\r\n            alert(err.response)\r\n        }\r\n    }\r\n    const checkAll=()=>{\r\n        products.forEach(product=>{\r\n            product.checked=!isCheck\r\n        })\r\n        setProducts([...products])\r\n        setIsCheck(!isCheck)\r\n    }\r\n    const deleteAll=()=>{\r\n        products.forEach(product=>{\r\n            if(product.checked) deleteProduct(product._id,product.images.public_id)\r\n        })\r\n    }\r\n    if(loading) return <div><Loading/> </div>\r\n    return (\r\n        <>\r\n        <Filters />\r\n        {\r\n            isAdmin && \r\n            <div className=\"delete-all\">\r\n                <span>Select all</span>\r\n                <input type=\"checkbox\" checked={isCheck} onChange={checkAll} />\r\n                <button onClick={deleteAll}>Delete ALL</button>\r\n            </div>\r\n        }\r\n        <div className=\"products\">\r\n            {\r\n                products.map(product=>{\r\n                    return <ProductItem key={product._id} product={product} \r\n                    isAdmin={isAdmin} deleteProduct={deleteProduct} handleCheck={handleCheck}\r\n                    />\r\n                })\r\n            }\r\n        </div>\r\n        <LoadMore/>\r\n        {products.length===0 && <Loading/>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Products\r\n","import React ,{useState} from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport axios from \"axios\"\r\nfunction Login() {\r\n    const [user,setUser]=useState({\r\n        email:\"\",\r\n        password:\"\"\r\n    })\r\n    const onChangeInput=e=>{\r\n        const {name,value}=e.target;\r\n    \r\n        setUser({...user,[name]:value})\r\n    }\r\n    const loginSubmit=async e=>{\r\n        e.preventDefault();\r\n        console.log(user)\r\n        try {\r\n            await axios.post('/user/login',{...user})\r\n            localStorage.setItem(\"firstLogin\",true)\r\n            window.location.href=\"/\"\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"login-page\">\r\n            <h2>Login</h2>\r\n            <form onSubmit={loginSubmit}>\r\n                <input type=\"email\" name=\"email\" required placeholder=\"Email\" value={user.email} onChange={onChangeInput}/>\r\n                <input type=\"password\" name=\"password\" required placeholder=\"Password\" autoComplete=\"on\" value={user.password} onChange={onChangeInput}/>\r\n                <div className=\"row\">\r\n                    <button type=\"submit\">Login</button>\r\n                    <Link to=\"/register\">Register</Link>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React ,{useState} from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport axios from \"axios\"\r\nfunction Register() {\r\n    const [user,setUser]=useState({\r\n        name:\"\",\r\n        email:\"\",\r\n        password:\"\"\r\n    })\r\n    const onChangeInput=e=>{\r\n        const {name,value}=e.target;\r\n    \r\n        setUser({...user,[name]:value})\r\n    }\r\n    const registerSubmit=async e=>{\r\n        e.preventDefault();\r\n        console.log(user)\r\n        try {\r\n            await axios.post('/user/register',{...user})\r\n            localStorage.setItem(\"firstLogin\",true)\r\n            window.location.href=\"/\"\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"login-page\">\r\n            <h2>Register</h2>\r\n            <form onSubmit={registerSubmit}>\r\n                <input type=\"text\" name=\"name\" required placeholder=\"Name\" value={user.name} onChange={onChangeInput}/>\r\n                <input type=\"email\" name=\"email\" required placeholder=\"Email\" value={user.email} onChange={onChangeInput}/>\r\n                <input type=\"password\" name=\"password\" required placeholder=\"Password\" autoComplete=\"on\" value={user.password} onChange={onChangeInput}/>\r\n                <div className=\"row\">\r\n                    <button type=\"submit\">Register</button>\r\n                    <Link to=\"/login\">Login</Link>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register\r\n\r\n","import React from 'react';\r\nimport PaypalExpressBtn from 'react-paypal-express-checkout';\r\n \r\nexport default class PaypalButton extends React.Component {\r\n    render() {\r\n        const onSuccess = (payment) => {\r\n            // Congratulation, it came here means everything's fine!\r\n            \t\tconsole.log(\"The payment was succeeded!\", payment);\r\n            \t\t// You can bind the \"payment\" object's value to your state or props or whatever here, please see below for sample returned data\r\n        }\r\n \r\n        const onCancel = (data) => {\r\n            // User pressed \"cancel\" or close Paypal's popup!\r\n            console.log('The payment was cancelled!', data);\r\n            // You can bind the \"data\" object's value to your state or props or whatever here, please see below for sample returned data\r\n        }\r\n \r\n        const onError = (err) => {\r\n            // The main Paypal's script cannot be loaded or somethings block the loading of that script!\r\n            console.log(\"Error!\", err);\r\n            // Because the Paypal's main script is loaded asynchronously from \"https://www.paypalobjects.com/api/checkout.js\"\r\n            // => sometimes it may take about 0.5 second for everything to get set, or for the button to appear\r\n        }\r\n \r\n        let env = 'sandbox'; // you can set here to 'production' for production\r\n        let currency = 'USD'; // or you can set this value from your props or state\r\n        let total = 1; // same as above, this is the total amount (based on currency) to be paid by using Paypal express checkout\r\n        // Document on Paypal's currency code: https://developer.paypal.com/docs/classic/api/currency_codes/\r\n \r\n        const client = {\r\n            sandbox:    'AUxEwMjyE6UDRVs3l0MUmbbVerKyZvkixaWJJ4N4P0ljqkqu1ksrlqFmVOixjkAy1uvCgmgc_ceM5acv',\r\n            production: 'YOUR-PRODUCTION-APP-ID',\r\n        }\r\n        // In order to get production's app-ID, you will have to send your app to Paypal for approval first\r\n        // For sandbox app-ID (after logging into your developer account, please locate the \"REST API apps\" section, click \"Create App\"):\r\n        //   => https://developer.paypal.com/docs/classic/lifecycle/sb_credentials/\r\n        // For production app-ID:\r\n        //   => https://developer.paypal.com/docs/classic/lifecycle/goingLive/\r\n \r\n        // NB. You can also have many Paypal express checkout buttons on page, just pass in the correct amount and they will work!\r\n        let style={\r\n            size:\"small\",\r\n            color:\"blue\",\r\n            shape:\"rect\",\r\n            label:\"checkout\",\r\n            tagline:false\r\n        }\r\n        return (\r\n            <PaypalExpressBtn \r\n                env={env} \r\n                client={client} \r\n                currency={currency} \r\n                total={total} \r\n                onError={onError} \r\n                onSuccess={onSuccess} \r\n                onCancel={onCancel} \r\n                style={style}\r\n                />\r\n        );\r\n    }\r\n}","import axios from 'axios';\r\nimport React ,{useContext,useState,useEffect}from 'react'\r\nimport { GlobalState } from \"../../../GlobalState\"\r\nimport PaypalButton from \"./PaypalButton\"\r\n\r\nfunction Cart() {\r\n    const state=useContext(GlobalState);\r\n    const [cart,setCart]=state.userAPI.cart;\r\n    const [total,setTotal]=useState(0);\r\n    const [token] =state.token;\r\n    \r\n\r\n    useEffect(() => {\r\n        const getTotal=()=>{\r\n            const total=cart.reduce((prev,item)=>{\r\n                return prev+(item.price*item.quatity);\r\n            },0);\r\n            setTotal(total)\r\n        }\r\n        const addToCart=async ()=>{\r\n            await axios.patch('/user/addcart',{cart},{\r\n                headers:{ Authorization: token }\r\n            })\r\n        }\r\n        getTotal();\r\n        addToCart();\r\n    }, [cart])\r\n    const increment=(id)=>{\r\n        cart.forEach(item=>{\r\n            if(item._id===id){\r\n                item.quatity+=1;\r\n            }\r\n        })\r\n        setCart([...cart])\r\n    }\r\n    const decrement=(id)=>{\r\n        cart.forEach(item=>{\r\n            if(item._id===id){\r\n                item.quatity===1?item.quatity=1:item.quatity-=1;\r\n            }\r\n        })\r\n        setCart([...cart])\r\n    }\r\n    const removeProduct=id=>{\r\n        if(window.confirm(\"Do you want to delete this product?\")){\r\n            cart.forEach((item,index)=>{\r\n                if(item._id===id){\r\n                    cart.splice(index,1);\r\n                }\r\n            })\r\n            setCart([...cart])\r\n        }\r\n    }\r\n\r\n    if(cart.length===0)\r\n        return <h2 style={{textAlign:\"center\",fontSize:\"5rem\"}}>Cart Empty</h2>\r\n    return (\r\n        <div>\r\n            {\r\n            cart.map(product=>\r\n                <div className=\"detail cart\" key={product._id}>\r\n                <img src={product.images.url} alt=\"\" />\r\n                <div className=\"box-detail\">\r\n                    <h2>{product.title}</h2>\r\n                    <h3>$ {product.price * product.quatity}</h3>\r\n                    <p>{product.description}</p>\r\n                    <p>{product.content}</p>\r\n                    <div className=\"amount\">\r\n                        <button onClick={()=>decrement(product._id)}> - </button>\r\n                        <span>{product.quatity}</span>\r\n                        <button onClick={()=>increment(product._id)}> + </button>\r\n                    </div>\r\n                    <div className=\"delete\" onClick={()=>removeProduct(product._id)}>X</div>\r\n                </div>\r\n            </div>\r\n            )}\r\n            <div className=\"total\">\r\n                <h3>Total: $ {total}</h3>\r\n                <PaypalButton />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cart\r\n","import React from 'react'\r\n\r\nfunction NotFound() {\r\n    return (\r\n        <div>\r\n            404 | Not Found\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound\r\n","import React,{useContext,useState,useEffect} from 'react'\r\nimport {useParams,Link} from \"react-router-dom\"\r\nimport {GlobalState} from \"../../../GlobalState\"\r\nimport ProductItem from \"../utils/productItem/ProductItem\"\r\n\r\nfunction DetailProduct() {\r\n    const params=useParams();\r\n    const state=useContext(GlobalState);\r\n    const [products]=state.productsAPI.products\r\n    const [detailProduct,setDetailProduct]=useState([])\r\n\r\n    useEffect(() => {\r\n        if(params.id){\r\n            products.forEach(product=>{\r\n                if(product._id===params.id) setDetailProduct(product)\r\n            })\r\n        }\r\n    }, [params,products])\r\n    console.log(detailProduct);\r\n    if(detailProduct.length===0) return null;\r\n    return (\r\n        <>\r\n        <div className=\"detail\">\r\n            <img src={detailProduct.images.url} alt=\"\"/>\r\n            <div className=\"box-detail\">\r\n                <div className=\"row\">\r\n                    <h2>{detailProduct.title}</h2>\r\n                    <h6>#id: {detailProduct.product_id}</h6>\r\n                </div>\r\n                <span>$ {detailProduct.price}</span>\r\n                <p>{detailProduct.content}</p>\r\n                <p>Sold: {detailProduct.sold}</p>\r\n                <Link to=\"/cart\" className=\"cart\">Buy Now</Link>\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <h2>Related products</h2>\r\n            <div className=\"products\">\r\n                {\r\n                    products.map(product=>{\r\n                        return product.category===detailProduct.category\r\n                        ?<ProductItem key={product._id} product={product}/>:null\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DetailProduct\r\n","import React ,{useState,useContext}from 'react'\r\nimport {GlobalState} from \"./../../../GlobalState\"\r\nimport axios from \"axios\"\r\nfunction Categories() {\r\n    const state=useContext(GlobalState)\r\n    const [categories]=state.categoriesAPI.categories;\r\n    const [category,setCategory]=useState('')\r\n    const [token]=state.token\r\n    const [callback,setCallback]=state.categoriesAPI.callback\r\n    const [onEdit,setOnEdit]=useState(false)\r\n    const [id,setID]=useState(\"\")\r\n    const createCategory=async(e)=>{\r\n        e.preventDefault()\r\n        try{\r\n            if(onEdit){\r\n                const res=await axios.put(`/api/category/${id}`,{\r\n                    name:category  \r\n                },{\r\n                    headers: { Authorization: token }\r\n                }) \r\n                alert(res.data);\r\n            }else{\r\n                const res=await axios.post(\"/api/category\",{\r\n                    name:category  \r\n                },{\r\n                    headers: { Authorization: token }\r\n                }) \r\n                alert(res.data);\r\n            }\r\n            setOnEdit(false)\r\n            setCallback(!callback)\r\n            setCategory('');\r\n           \r\n        }catch(err){\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n    const editCategory=async(id,name)=>{\r\n        console.log(\"Testing edit\",id,name)\r\n        setID(id)\r\n        setCategory(name)\r\n        setOnEdit(true)\r\n    }\r\n    const deleteCategory=async(id)=>{\r\n        try {\r\n            const res=await axios.delete(`/api/category/${id}`,{\r\n                headers:{ Authorization:token }\r\n            })\r\n            alert(res.data.msg)\r\n            setCallback(!callback)\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"categories\">\r\n            <form onSubmit={createCategory}> \r\n                <label htmlFor=\"category\">Category</label>\r\n                <input type=\"text\" name=\"category\" value={category} required onChange={(e)=>setCategory(e.target.value)}/>\r\n                <button type=\"submit\">{onEdit? \"Update\":\"Create\"}</button>\r\n            </form>\r\n            <div className=\"col\">\r\n                {\r\n                    categories.map(category=>(\r\n                        <div className=\"row\" key={category._id}>\r\n                            <p>{category.name}</p>\r\n                            <div>\r\n                                <button onClick={()=>editCategory(category._id,category.name)}>Edit</button>\r\n                                <button onClick={()=>deleteCategory(category._id)}>Delete</button>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Categories\r\n","import React,{useState,useContext,useEffect} from 'react'\r\nimport axios from \"axios\"\r\nimport {GlobalState }  from  \"./../../../GlobalState\"\r\nimport Loading from \"../utils/loading/Loading\"\r\nimport {useHistory,useParams} from \"react-router-dom\"\r\n\r\nconst initialState={\r\n    product_id:\"\",\r\n    title:\"\",\r\n    price:0,\r\n    description:'How to add tutorial videos of cool css effect',\r\n    content:\"Welcome to our page\",\r\n    category:\"\",\r\n    _id:\"\"\r\n}\r\n\r\nfunction CreateProduct() {\r\n    const state=useContext(GlobalState)\r\n    const [product,setProduct]=useState(initialState)\r\n    const [categories]=state.categoriesAPI.categories\r\n    const [images,setImages]=useState(false)\r\n    const [loading,setLoading]=useState(false)\r\n    const [isAdmin]=state.userAPI.isAdmin\r\n    const [token]=state.token\r\n    const history=useHistory()\r\n    const param=useParams()\r\n    const [products]=state.productsAPI.products\r\n    const [onEdit,setOnEdit]=useState(false)\r\n    const [callback,setCallback]=state.productsAPI.callback\r\n\r\n    useEffect(() => {\r\n        if(param.id){\r\n            setOnEdit(true)\r\n            products.forEach(product=>{\r\n                if(product._id===param.id){\r\n                    setProduct(product)\r\n                    setImages(product.images)\r\n                }\r\n            })\r\n            \r\n        }else{\r\n            setOnEdit(false)\r\n            setProduct(initialState)\r\n            setImages(false)\r\n        }\r\n    }, [param.id,products])\r\n\r\n    const handleUpload=async e=>{\r\n        e.preventDefault();\r\n        try {\r\n            if(!isAdmin) return alert(\"You're not an admin.\")\r\n            const file=e.target.files[0];\r\n            if(!file) return alert(\"File does not exist.\")\r\n            if(file.size> 1024*1024) return alert(\"File too large!\")\r\n            if(file.type!== 'image/jpeg' && file.type !== 'image/png') \r\n                return alert(\"File format is incorrect.\")\r\n            let formData=new FormData()\r\n            formData.append(\"file\",file)\r\n            setLoading(true)\r\n          \r\n            const res=await axios.post('/api/upload',formData,{\r\n                headers:{'content-type':'multipart/form-data', Authorization: token }\r\n            })\r\n            setLoading(false)\r\n            setImages(res.data)\r\n\r\n        } catch (err) {\r\n            alert(err.response)\r\n        }\r\n    }\r\n    const handleDestroy=async e=>{\r\n        try {\r\n            if(!isAdmin) return alert(\"You are not an admin.\")\r\n            setLoading(true)\r\n            await axios.post('/api/destroy',{\r\n                public_id:images.public_id\r\n            },{\r\n                headers:{Authorization:token }\r\n            })\r\n            setLoading(false)\r\n            setImages(false)\r\n        } catch (err) {\r\n            alert(err.response)\r\n        }\r\n    }\r\n    const handleChangeInput=e=>{\r\n        const {name,value}=e.target\r\n        setProduct({...product,[name]:value})\r\n    }\r\n    const styleUpload={\r\n        display:images?\"block\":\"none\"\r\n    }\r\n    const handleSubmit=async e=>{\r\n        e.preventDefault()\r\n        try {\r\n            if(!isAdmin) return alert(\"You're not an admin.\")\r\n            if(!images) return alert(\"No image uploaded.\")\r\n            if(onEdit){\r\n                await axios.put(`/api/products/${product._id}`,{\r\n                    ...product,\r\n                    images\r\n                },{\r\n                    headers:{ Authorization:token }\r\n                })\r\n            }else{\r\n                await axios.post('/api/products',{\r\n                    ...product,\r\n                    images\r\n                },{\r\n                    headers:{ Authorization:token }\r\n                })\r\n            }\r\n            setCallback(!callback)\r\n            history.push(\"/\")\r\n        } catch (err) {\r\n            alert(err.response)\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"create_product\">\r\n            <div className=\"upload\">\r\n                <input type=\"file\" name=\"file\" id=\"file_up\" onChange={handleUpload}/>\r\n                {\r\n                    loading?<div id=\"file_img\"><Loading/></div>:\r\n                    <div id=\"file_img\" style={styleUpload}>\r\n                    <img src={images?images.url:\"\"} alt=\"\"/>\r\n                    <span onClick={handleDestroy}>X</span>\r\n                </div>\r\n                }\r\n               \r\n            </div>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"product_id\">Product ID</label>\r\n                    <input type=\"text\" name=\"product_id\" id=\"product_id\" required value={product.product_id} onChange={handleChangeInput} disabled={onEdit}/>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"title\">Title</label>\r\n                    <input type=\"text\" name=\"title\" id=\"title\" required value={product.title} onChange={handleChangeInput}/>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"price\">Price</label>\r\n                    <input type=\"number\" name=\"price\" id=\"price\" required value={product.price} onChange={handleChangeInput}/>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"description\">Description</label>\r\n                    <textarea type=\"number\" name=\"description\" id=\"description\" required value={product.description} rows=\"5\" onChange={handleChangeInput}/>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"content\">Content</label>\r\n                    <textarea type=\"text\" name=\"content\" id=\"content\" required value={product.content} rows=\"7\" onChange={handleChangeInput}/>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"categories\">Categories:</label>\r\n                    <select name=\"category\" value={product.category} onChange={handleChangeInput}>\r\n                        <option value=\"\">Please select a category</option>\r\n                        {\r\n                            categories.map(category=>(\r\n                                <option value={category._id} key={category._id}>\r\n                                    {category.name}\r\n                                </option>\r\n                            ))\r\n                        }\r\n                    </select>\r\n                </div>\r\n                <button type=\"submit\">{onEdit?\"Update\":\"Create\"}</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreateProduct\r\n","import React, { useContext } from 'react'\r\nimport {Switch,Route} from \"react-router-dom\" \r\nimport Products from \"./products/Products\"\r\nimport Login from \"./auth/Login\"\r\nimport Register from \"./auth/Register\"\r\nimport Cart from \"./cart/Cart\"\r\nimport NotFound from \"./utils/not_Found/NotFound\"\r\nimport DetailProduct from \"./detailProduct/DetailProduct\" \r\nimport { GlobalState } from '../../GlobalState'\r\nimport Categories from \"./categories/Categories\"\r\nimport CreateProduct from \"./createProduct/CreateProduct\"\r\n\r\nfunction Pages() {\r\n    const state=useContext(GlobalState)\r\n    const [isLogged]=state.userAPI.isLogged;\r\n    const [isAdmin]=state.userAPI.isAdmin\r\n    return (\r\n       <Switch>\r\n            <Route path=\"/\" exact component={Products}/>\r\n           <Route path=\"/detail/:id\" exact component={DetailProduct}/>\r\n           <Route path=\"/login\" exact component={isLogged?NotFound:Login}/>\r\n           <Route path=\"/create_product\" exact component={isAdmin?CreateProduct:NotFound} />\r\n           <Route path=\"/edit_product/:id\" exact component={isAdmin?CreateProduct:NotFound} />\r\n           <Route path=\"/category\" exact component={isAdmin?Categories:NotFound} />\r\n\r\n           <Route path=\"/register\" exact component={isLogged?NotFound:Register}/>\r\n           <Route path=\"/cart\" exact component={Cart}/>\r\n           <Route path=\"*\" exact component={NotFound}/>\r\n       </Switch>\r\n    )\r\n}\r\n\r\nexport default Pages\r\n","import React from \"react\"\nimport { BrowserRouter as Router} from \"react-router-dom\"\nimport Header from \"./components/headers/Header\"\nimport MainPages from \"./components/mainpages/Pages\";\nimport {DataProvider} from \"./GlobalState\"\n\nfunction App() {\n  return (\n    <DataProvider>\n      <Router>\n        <div className=\"App\">\n          <Header/>\n          <MainPages/>\n        </div>\n      </Router>\n    </DataProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n\n    <App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}